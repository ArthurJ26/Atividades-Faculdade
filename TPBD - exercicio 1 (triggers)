drop database bd_aula_triggers;
create schema if not exists bd_aula_triggers default character set utf8;
use bd_aula_triggers;

create table if not exists bd_aula_triggers.Aluno(
	cod int not null auto_increment,
    nome varchar (100) not null,
    curso int not null,
    categoria int not null,
    primary key (cod)
)engine = innoDB;

create table if not exists bd_aula_triggers.Curso(
	cod int not null auto_increment,
    descricao varchar(200) not null,
    primary key(cod)
)engine = innoDB;

create table if not exists bd_aula_triggers.Matricula(
	cod int not null auto_increment,
    aluno_cod int not null,
    curso_cod int not null,
    primary key (cod)
)engine = innoDB;



insert into Curso values (null, "CIÊNCIA DA COMPUTAÇÃO");
insert into Curso values (null, "TECNOLOGIA EM ANÁLISE E DESENVOLVIMENTO DE SISTEMAS");
insert into Curso values (null, "ENGENHARIA DA COMPUTAÇÃO");
insert into Curso values (null, "SISTEMAS DE INFORMAÇÃO");

select * from curso;

set delimiter $$

create trigger tg_matricula after insert on Aluno
	for each row begin	
				insert into Matricula values (null, new.cod, new.curso);
                end;
                
set delimiter ;

insert into Aluno values (null, "JP", 2, 1);

select * from Aluno;

show triggers;
